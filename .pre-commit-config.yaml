repos:
  # ================================
  # GITLEAKS - Secret Scanning (local)
  # ================================
  - repo: local
    hooks:
      - id: gitleaks
        name: Gitleaks Secret Scanner
        entry: gitleaks
        language: system
        types: [text]
        args: ["detect", "--source=.", "--verbose", "--redact"]
        stages: [commit]

  # ================================
  # SEMGREP - SAST Local (no checkout)
  # ================================
  - repo: local
    hooks:
      - id: semgrep
        name: Semgrep Security Scan
        entry: semgrep
        language: system
        types: [javascript, ts, tsx, jsx]
        args:
          ["scan", "--config", "security/semgrep-rules.yaml"]
        stages: [commit]
